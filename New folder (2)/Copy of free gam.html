<!DOCTYPE html>
<html>
<head>
	<title>لعبة الحركة</title>
	<style type="text/css">
        
		#background {
			background-image: url('bbgg.gif');
			background-size: 3500px;
			height: 880px;
			width: 100%;
			position: relative;
			overflow: hidden;
		}


      #player {
      position: relative;
      background-image: url('player1.gif');
			bottom: 0px;
			left: 100px;				
			width: 80px;
	    height: 100px;
      transform: scaleX(1);
      background-size: 100% 100%;

        
        }

			/* Add these styles to create easing effect */
			#player {
			transition: bottom 5s ease-out;
			}
			#player9 {
			position: absolute;
			bottom: 100px;
			left: 100px;
				
			height: 80px;
			width: 95px;
			}
			#moveLeftButton {
			background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgTvpzrRpQUYMzilRdYnpJv83gNLo4GIbWQihjaX_3vLAWyffQeynTV7XJ7HoeL59HzLrSh4PBdP9CEOqp4g1j-Kr9HT47bULpe2zj2Kl1rcrniz3xhYc02UiCakipkAQ4v1gdW_bwTjzxDeSUWZSPSMF3WQOCBeHSfpM4-Of2bUdaIVsoiSPfpHB8IUA/s1600/left.png');
			background-size: contain;
			background-color: transparent;
			height: 50px;
			width: 50px;
			position: fixed;
			bottom: 30px;
			left: 30px;
			}

			#moveRightButton {
			background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj4r5wdYqpnxtUxaFb0KfKffu93fpv9JwloRoIKzUPsD4HSGaOi0TSqn1uMVvL17hsce5oTO6p1InFUTSoI1O4jswFiwRreztFTPGmnvnAmQuZQ3vg374K7LZ0w89bwGNiRdxJD-Rfxskg-PD1hubInJuK1XoD5srmnAxxE2z8zg1CCYH2YGn3NaRggMw/s1600/right.png');
			background-color: transparent;
			height: 50px;
			width: 50px;
			position: fixed;
			bottom: 30px;
			right: 1110px;
			}

			#jumpButton {
			background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhY6lZbZwqjk3iDK2nT0Z7-Z6RsnJWVJbjPGHt1olLsh0tBAsd0SRobgGz6WBI0CW9gQz6TKVJdEnbkNK_XZU_elOv_Y_Cou3aTNV1gVhZxjqTDpaGqmZ7cQLdm0dnL24TdYhrKHUnAbbnS1MOMiS4AqcumGf8MICRHUG5sroMH6_2c1Y1jkab1HPx7Uw/s1600/up.png');
			background-size: contain;
			background-color: transparent;
			height: 50px;
			width: 50px;
			position: fixed;
			bottom: 80px;
			left: 1200px;
			}

			#fireButton {
			background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJZGqMU2JRSWEtgzlOmZLQEFoRgsWfQoUpzvFg55nnrOPE9Xe6wL53n01fMxz4FDAbl-FXiaE8fK-WmrrC2lBPkCQuzLuX9QAVXUJ4MjGjhE1LeqWQK6mRZXX-typklQcnTcphVnpzUxVKlJwYzJv3T56eu7UMg32Fx53mWvi6ky5HByWwR5xwM8O_cA/s1600/x.png');
			background-size: contain;
			background-color: transparent;
			height: 50px;
			width: 50px;
			position: fixed;
			bottom: 30px;
			right: 80px;
			}
      #tireButton {
			background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj6mIZ5LVA5dtaRbpLXhGBu1N9oA_wFuQd2WWbRzxsEHqZizFdEOVL035xuiDY3kZEC4Ef2JTJt5Z9g7gvD4FbcJAecDe_EgNZodFZqb7E4n4w9zdMbtTrZrIw5ew12akexHIVZ2HfxXq5jwtGPHtGgNSBA6AxsZkBcBJo4GY8CKPlW-t_rXmhZvRNIkA/s1600/w.png');
			background-size: contain;
			background-color: transparent;
			height: 50px;
			width: 50px;
			position: fixed;
			bottom: 30px;
			right: 140px;
			}

      #sword {
			background-color:rgb(211, 124, 43) ;		
			height: 6px;
			width: 15px;
			position: absolute;
			bottom: 59px;
			left: 50px;
			border-radius: 50%;
			display: none;
			}

      #sword2 {
        background-image: url('bll.png');
			height: 30px;
			width: 60px;
			position: absolute;
      background-size: 100% 100%;
			}


      #box {
      background-color: transparent;	
	  	height: 6px;
			width: 15px;
			position: absolute;
			bottom: 59px;
			left: 50px;
			border-radius: 50%;
			display: none;
			}
      

      #platform0 {
background-color: transparent;
        position: absolute;
bottom: 0px;
left: 0;
width: 10000px;
height: 60px;
			}


      #platform {
      bottom: 80px;
      left: 1000px;
      width: 300px;
      height: 80px;
      background-image: url('platform0.png');
      position: absolute;
      background-size: 100% 100%;

      }
      
			#platform2 {

position: absolute;
background-color: transparent;
background-size: cover;
background-repeat: repeat;
      bottom: 570px;
      left: 750px;
      width: 450px;
      height: 60px;
      }


#platform4 {

position: absolute;
background-color: transparent;
background-size: cover;	
bottom: 700px;
left: 2800px;
width: 600px;
height: 60px;
background-size: 100% 100%;

}


#platform5 {

position: absolute;
background-image: url('platform5.png');

background-size: cover;	
bottom: 200px;
left: 1500px;
width: 400px;
height: 60px;
background-size: 100% 100%;

}

#platform6 {
      position: absolute;
      bottom: 80px;
      left: 2000px;
      width: 300px;
      height: 80px;
      background-image: url('platform0.png');
      background-size: 100% 100%;

    }

    #platform7 {
      position: absolute;
      bottom: 80px;
      left: 2800px;
      width: 300px;
      height: 60px;
      background-image: url('platform0.png');
      background-size: 100% 100%;

    }


    



    #enemy {
        background-image: url('2.gif');
				position: absolute;
        bottom: 500px;
        background-size: 100% 100%;

				height: 80px;
				width: 135px;
        

			}

#enemy2 {
       background-image: url('0.gif');
       position: absolute;
        height: 100px;
        width: 120px;
        background-size: 100% 100%;

}




      #enemy4 {
        background-image: url('4.gif');
				position: absolute;
        
        background-size: 100% 100%;

				height: 100px;
				width: 130px;
    
			}



      #enemy5 {
        background-image: url('5.gif');
				position: absolute;
        bottom: 500px;
        background-size: 100% 100%;

				height: 100px;
				width: 130px;
        

			}

      
      #enemy6 {
        background-image: url('7.gif');
				position: absolute;
        bottom: 500px;
        background-size: 100% 100%;

				height: 60px;
				width: 130px;
        

			}



      #enemy7 {
       background-image: url('6.gif');
       position: absolute;
        height: 100px;
        left: 200;
        width: 120px;
        background-size: 100% 100%;
        bottom: 80px;



}




			#game-stats {
			display: flex;
			justify-content: space-between;
			align-items: center;
			background-color: rgb(41, 41, 41);
			padding: 10px;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			font-family: Arial, sans-serif;
			}

			#game-stats span {
			margin: 0 30px;
			color: #fafafa;

			}

			#game-stats span span {
			font-weight: bold;
			color: #08c408;

			}


			#game-over-box {
			display: none;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 300px;
			height: 160px;
			background: linear-gradient(to left, #ff4b1f, #1fddff, #a8ff1f);
			border-radius: 10px;
			padding: 20px;
			text-align: center;
			}

			#game-over-box h2 {
			color: white;
			font-size: 30px;
			margin-bottom: 10px;
			}

			#game-over-box p {
			color: white;
			font-size: 20px;
			margin-bottom: 20px;
			}

			#score {
			font-weight: bold;
			}

			#restart-button {
			background-color: white;
			color: red;
			font-size: 20px;
			border: none;
			border-radius: 5px;
			padding: 10px 20px;
			cursor: pointer;
			}


			h2 {
			color: rgb(247, 248, 253);
			font-weight: bold;
			font-size: 48px;
			animation: fade-out 8s forwards;
			position: absolute;
			top: calc(50% - 100px);
			left: 50%;
			transform: translate(-50%, -200px);
			}

			@keyframes fade-out {
				0% {
					opacity: 1;
				}
				100% {
					opacity: 0;
					display: none;
					}
			}

			#you-win-box  {
			display: none;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 300px;
			height: 160px;
			background-color: #4CAF50;
			border-radius: 10px;
			padding: 20px;
			text-align: center;
			}

			#you-win-box h3 {
			color: white;
			font-size: 30px;
			margin-bottom: 10px;
			}

			#you-win-box p {
			color: white;
			font-size: 20px;
			margin-bottom: 20px;
			}

			#score {
			font-weight: bold;
			}

			#next-button {
			background-color: white;
			color: red;
			font-size: 20px;
			border: none;
			border-radius: 5px;
			padding: 10px 20px;
			cursor: pointer;
			}

			h3 {
			color: rgb(6, 11, 92);
			font-weight: bold;
			font-size: 48px;
			animation: fade-out 8s forwards;
			position: absolute;
			top: calc(50% - 100px);
			left: 50%;
			transform: translate(-50%, -200px);
			}

			@keyframes fade-out {
				0% {
					opacity: 1;
				}
				100% {
					opacity: 0;
					display: none;
				}
			}

    .jump {
  animation: jump 0.5s;
}

@keyframes jump {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-50px);
  }
  100% {
    transform: translateY(0);
  }
}


  </style>

  </head>
  <body onkeydown="movePlayer(event)">

    

	      <div id="background">

          <div id="platform0"></div>

          <div id="platform">
            <div id="enemy"></div>
          </div>
  

          <div id="platform2">
            <div id="enemy2"></div>
          </div>


          <div id="platform4">
            <div id="enemy4"></div>
          </div>


          <div id="platform5">
            <div id="enemy5"></div>
          </div>


          <div id="platform6">
            <div id="enemy6"></div>
          </div>


          <div id="platform7">
            <div id="enemy7"></div>
          </div>





                <div id="player">
                  <div id="sword"></div>
                  <div id="box"></div>      
                  </div>
      
                  <img id="player9" src="player9.gif" style="display: none;">
      
 
      
      
    
        

        <div>
            <button id="moveLeftButton"></button>
            <button id="moveRightButton"></button>
            <button id="jumpButton"></button>
            <button id="fireButton"></button>
            <button id="tireButton"></button>
        </div>




            <div id="game-over-box">
            <h2>Game Over</h2>
            <p>Your score is <span id="score"></span></p>
            <button id="restart-button">Restart</button>



          </div>

          <div id="you-win-box">

            <h3>you win</h3>

            <p>Your score is <span id="score"></span></p>

            <button id="next-button" onclick="goToPage02()">next</button>	

              <script>
            function goToPage02() {
              location.href = 'Page02.html';
            }
              </script>

          </div>

          <div id="game-stats">
            <span>أرواح اللاعب: <span id="player-lives">3</span></span>
            <span>الأعداء المقتولون: <span id="enemies-killed">0</span></span>
            <span>الوقت: <span id="timer">30</span> ثانية</span>
          </div>

          <span id="lives">3</span>

        </div>

          <script type="text/javascript">





                  var currentPosition = 0;
                  var cameraPosition = 0;
                  var platform = document.getElementById("platform");
                  var speed = 0;
                  var screenWidth = window.innerWidth;

                  document.onkeydown = function(event) {
                      if (event.keyCode == 39 && currentPosition < 150) { // يمينا
                          currentPosition -= 2;
                      } else if (event.keyCode == 37 && currentPosition > 150) { // يسارا
                          currentPosition += 2;
                      }
                      platform.style.transform = "translateX(" + currentPosition + "px)"; // تحريك المنصة
                      updateCamera(); // تحديث الكاميرا
                  }




                  var platform = document.getElementById("platform");
                  var platform2 = document.getElementById("platform2");
                  var platform4 = document.getElementById("platform4");
                  var platform5 = document.getElementById("platform5");
                  var platform6 = document.getElementById("platform6");
                  var platform7 = document.getElementById("platform7");
                  var platform0 = document.getElementById("platform0");


                  let player = document.getElementById("player");
                  let x = 0;
                  let y = 0;
                  let dx = 0;
                  let dy = 0;
                  let gravity = 0.5;
                  let isJumping = false;
                  let jumpSpeed = 20;

                  let moveLeftButton = document.getElementById("moveLeftButton");
                  let moveRightButton = document.getElementById("moveRightButton");
                  let jumpButton = document.getElementById("jumpButton");

                  moveLeftButton.addEventListener("mousedown", moveLeft);
                  moveLeftButton.addEventListener("mouseup", stopMoving);

                  moveRightButton.addEventListener("mousedown", moveRight);
                  moveRightButton.addEventListener("mouseup", stopMoving);

                  jumpButton.addEventListener("mousedown", jump);


                  if(dx < 0){
                      player.style.transform = "scaleX(-1)";
                  } else if (dx > 0){
                      player.style.transform = "scaleX(1)";
                  }

                  function updateCamera() {
                      cameraPosition -= dx * 0.2;
                      if (cameraPosition < -2255) { // الحد الأيسر للحركة
                          cameraPosition = -2255;
                      }
                      if (cameraPosition > 0) { // الحد الأيمن للحركة
                          cameraPosition = 0;
                      }
                      
                      document.getElementById("background").style.backgroundPosition = cameraPosition + "px";
                      if (x < 300) { // لا تسمح بالتحرك خارج الشاشة على الجانب الأيسر
                          x = 300;
                      }
                      if (x > 800) { // لا تسمح بالتحرك خارج الشاشة على الجانب الأيمن
                          x = 800;
                      }
                      
                      if (cameraPosition < -2255) { // إيقاف الكاميرا عند نهاية الصورة الخلفية
                          cameraPosition = 0;
                      }
                      player.style.left = x + "px";
                      player.style.bottom = y + "px";
                  }


                  setInterval(function() {
                      updateCamera(); // تحديث الكاميرا بشكل مستمر
                  }, 10);


                                      function jump() {
                      if (!isJumping) {
                          isJumping = true;
                          dy = -15;
                          player.style.backgroundImage = "url('player4.png')";
                          setTimeout(function() {
                              player.style.backgroundImage = "url('player5.png')";
                          }, 500);
                          setTimeout(function() {
                              player.style.backgroundImage = "url('player1.gif')";
                              isJumping = false;
                          }, 1000);
                      }
                  }

                  function moveLeft() {
                      player.style.backgroundImage = "url('player3.gif')";
                      dx = -3;
                      isMovingLeft = true;
                      isMovingRight = false;
                      player.style.transform = "scaleX(-1)";
                      updateCamera();
                  }

                  function moveRight() {
                      player.style.backgroundImage = "url('player2.gif')";
                      dx = 3;
                      isMovingRight = true;
                      isMovingLeft = false;
                      player.style.transform = "scaleX(1)";
                      updateCamera();
                  }

                  function stopMoving() {
                      dx = 0;
                      player.style.backgroundImage = "url('player1.gif')";
                  }

                  function gameLoop() {
                      currentPosition -= dx;
                      platform.style.transform = "translateX(" + currentPosition + "px)";
                      platform2.style.transform = "translateX(" + currentPosition + "px)";
                      platform4.style.transform = "translateX(" + currentPosition + "px)";
                      platform5.style.transform = "translateX(" + currentPosition + "px)";
                      platform6.style.transform = "translateX(" + currentPosition + "px)";
                      platform7.style.transform = "translateX(" + currentPosition + "px)";
                      platform0.style.transform = "translateX(" + currentPosition + "px)";
                      updateCamera();
                      setTimeout(gameLoop, 16);
                  }
                  gameLoop();

                  document.addEventListener


                    
                    document.addEventListener("keydown", function(event) {
                      if (event.code === "ArrowLeft") {
                        moveLeft();
                      } else if (event.code === "ArrowRight") {
                        moveRight();
                      } else if (event.code === "ArrowUp") {
                        jump();
                      }
                    });
                    
                    document.addEventListener("keyup", function(event) {
                      if (event.code === "ArrowLeft" || event.code === "ArrowRight") {
                        stopMoving();
                      }
                    });
                    
                    document.addEventListener("keyup", function(event) {
                      if (event.code === "ArrowLeft" || event.code === "ArrowRight") {
                        stopMoving();
                      }
                    });


              setInterval(() => {
              playerLives.textContent = lives;
              enemiesKilled.textContent = killed;
              gameTime.textContent = time;
              time++;
              
              if (time >= 10) {
                showYouWinBox();
              }
            }, 1000);

            var count = 60;
            var timer = document.getElementById("timer");

            function updateTimer() {
            timer.innerHTML = count;
            count--;

            if (count < 0) {
            clearInterval(intervalId);
            showGameOverBox();
            player.remove();
            enemy.remove();
            }
            }
  
            updateTimer(); // to update the timer immediately

            var intervalId = setInterval(updateTimer, 1000);

            const playerLives = document.getElementById("player-lives");
            const enemiesKilled = document.getElementById("enemies-killed");
            const gameTime = document.getElementById("game-time");

            let lives = 3;
            let killed = 0;
            let time = 0;



            lives--;
            document.getElementById("lives").textContent = lives;
            const gameOverBox = document.getElementById("game-over-box");
            const restartButton = document.getElementById("restart-button");
            const scoreSpan = document.getElementById("score");
            const showGameOverBox = () => {
            scoreSpan.textContent = killed;
            gameOverBox.style.display = "block";
            clearInterval(intervalId);
            };
            // restart game when restart button is clicked
            restartButton.addEventListener("click", () => {
            window.location.reload();
            });


           const youWinBox = document.getElementById("you-win-box");
            const nextButton = document.getElementById("next-button");
            const showYouWinBox = () => {
            scoreSpan.textContent = killed;
            youWinBox.style.display = "block";
            clearInterval(intervalId);
            };
            // restart game when restart button is clicked
            nextButton.addEventListener("click", () => {
            window.location.href = "page02.html";
            });


      function update() {
            
            // Update position
        x += dx;
        y += dy;
        // Apply gravity
        dy += gravity;
        // Check for collision with bottom of screen
        if (y + 50 > window.innerHeight) {
          y = window.innerHeight - 50;
          dy = 0;
          isJumping = false;
        }
        // Check for collision with sides of screen
        if (x < 0) {
          x = 0;
        }
        if (x + 50 > window.innerWidth) {
          x = window.innerWidth - 50;
        }
      

        let playerRect = player.getBoundingClientRect();
 


let platformRect = platform.getBoundingClientRect();
if (playerRect.bottom > platformRect.top && 
    playerRect.top < platformRect.bottom && 
    playerRect.right > platformRect.left && 
    playerRect.left < platformRect.right) {
  if (playerRect.bottom > platformRect.top && dy > 0) {
    // Collision from top
    y = platformRect.top - player.offsetHeight;
    dy = 0; // Reverse vertical direction
    isJumping = false; // Disable jumping
  } else if (playerRect.top < platformRect.bottom && dy < 0) {

  } else if (playerRect.right > platformRect.left &&
   dx > 0 && playerRect.left < platformRect.left) {
    // Collision from left
    x = platformRect.left - player.offsetWidth;
    isJumping = false; // Disable jumping
  } else if (playerRect.left < platformRect.right && dx < 0) {
    // Collision from right
    x = platformRect.right;
    isJumping = false; // Disable jumping
  }  }




  let platform2Rect = platform2.getBoundingClientRect();
if (playerRect.bottom > platform2Rect.top && 
    playerRect.top < platform2Rect.bottom &&
    playerRect.right > platform2Rect.left && 
    playerRect.left < platform2Rect.right) {
  if (playerRect.bottom > platform2Rect.top && dy > 0) {
    // Collision from top
    y = platform2Rect.top - player.offsetHeight;
    dy = 0; // Reverse vertical direction
    isJumping = false; // Disable jumping
  } else if (playerRect.top < platform2Rect.bottom && dy < 0) {

  } else if (playerRect.right > platform2Rect.left && dx > 0 &&
             playerRect.left < platform2Rect.left) {
    // Collision from left
    x = platform2Rect.left - player.offsetWidth;
    isJumping = false; // Disable jumping
  } else if (playerRect.left < platform2Rect.right && dx < 0) {
    // Collision from right
    x = platform2Rect.right;
    isJumping = false; // Disable jumping
  }  }




let platform4Rect = platform4.getBoundingClientRect();
if (playerRect.bottom > platform4Rect.top && 
    playerRect.top < platform4Rect.bottom && 
    playerRect.right > platform4Rect.left && 
    playerRect.left < platform4Rect.right) {
  if (playerRect.bottom > platform4Rect.top && dy > 0) {
    // Collision from top
    y = platform4Rect.top - player.offsetHeight;
    dy = 0; // Reverse vertical direction
    isJumping = false; // Disable jumping
  } else if (playerRect.top < platform4Rect.bottom && dy < 0) {

  } else if (playerRect.right > platform4Rect.left &&
   dx > 0 && playerRect.left < platform4Rect.left) {
    // Collision from left
    x = platform4Rect.left - player.offsetWidth;
    isJumping = false; // Disable jumping
  } else if (playerRect.left < platform4Rect.right && dx < 0) {
    // Collision from right
    x = platform4Rect.right;
    isJumping = false; // Disable jumping
  }  }


      


let platform5Rect = platform5.getBoundingClientRect();
if (playerRect.bottom > platform5Rect.top && 
    playerRect.top < platform5Rect.bottom && 
    playerRect.right > platform5Rect.left && 
    playerRect.left < platform5Rect.right) {
  if (playerRect.bottom > platform5Rect.top && dy > 0) {
    // Collision from top
    y = platform5Rect.top - player.offsetHeight;
    dy = 0; // Reverse vertical direction
    isJumping = false; // Disable jumping
  } else if (playerRect.top < platform5Rect.bottom && dy < 0) {

  } else if (playerRect.right > platform5Rect.left && dx > 0 && 
            playerRect.left < platform5Rect.left) {
    // Collision from left
    x = platform5Rect.left - player.offsetWidth;
    isJumping = false; // Disable jumping
  } else if (playerRect.left < platform5Rect.right && dx < 0) {
    // Collision from right
    x = platform5Rect.right;
    isJumping = false; // Disable jumping
  }  }


          


  let platform6Rect = platform6.getBoundingClientRect();
if (playerRect.bottom > platform6Rect.top && 
    playerRect.top < platform6Rect.bottom && 
    playerRect.right > platform6Rect.left && 
    playerRect.left < platform6Rect.right) {
  if (playerRect.bottom > platform6Rect.top && dy > 0) {
    // Collision from top
    y = platform6Rect.top - player.offsetHeight;
    dy = 0; // Reverse vertical direction
    isJumping = false; // Disable jumping
  } else if (playerRect.top < platform6Rect.bottom && dy < 0) {

  } else if (playerRect.right > platform6Rect.left && dx > 0 && 
            playerRect.left < platform6Rect.left) {
    // Collision from left
    x = platform6Rect.left - player.offsetWidth;
    isJumping = false; // Disable jumping
  } else if (playerRect.left < platform6Rect.right && dx < 0) {
    // Collision from right
    x = platform6Rect.right;
    isJumping = false; // Disable jumping
  }  }
   


  let platform7Rect = platform7.getBoundingClientRect();
if (playerRect.bottom > platform7Rect.top && 
    playerRect.top < platform7Rect.bottom && 
    playerRect.right > platform7Rect.left && 
    playerRect.left < platform7Rect.right) {
  if (playerRect.bottom > platform7Rect.top && dy > 0) {
    // Collision from top
    y = platform7Rect.top - player.offsetHeight;
    dy = 0; // Reverse vertical direction
    isJumping = false; // Disable jumping
  } else if (playerRect.top < platform7Rect.bottom && dy < 0) {

  } else if (playerRect.right > platform7Rect.left && dx > 0 && 
            playerRect.left < platform7Rect.left) {
    // Collision from left
    x = platform7Rect.left - player.offsetWidth;
    isJumping = false; // Disable jumping
  } else if (playerRect.left < platform7Rect.right && dx < 0) {
    // Collision from right
    x = platform7Rect.right;
    isJumping = false; // Disable jumping
  }  }
   




  let platform0Rect = platform0.getBoundingClientRect();
if (playerRect.bottom > platform0Rect.top && 
    playerRect.top < platform0Rect.bottom &&
    playerRect.right > platform0Rect.left && 
    playerRect.left < platform0Rect.right) {
  if (playerRect.bottom > platform0Rect.top && dy > 0) {
    // Collision from top
    y = platform0Rect.top - player.offsetHeight;
    dy = 60; // Reverse vertical direction
    isJumping = false; // Disable jumping
  } else if (playerRect.top < platform0Rect.bottom && dy < 0) {
    // Collision from bottom
    isJumping = false; // Disable jumping
  } else if (playerRect.right > platform0Rect.left && dx > 0 && playerRect.left < platform0Rect.left) {
    // Collision from left
    x = platform0Rect.left - player.offsetWidth;
    isJumping = false; // Disable jumping
  } else if (playerRect.left < platform0Rect.right && dx < 0) {

  }  }



        // Update player position
        player.style.left = x + "px";
        player.style.top = y + "px";
        // Schedule next update
        requestAnimationFrame(update);
      }
      
      
                update();



const maxSwords = 15;

let canFire = true; // متغير يحدد إذا كان بإمكان اللاعب إطلاق طلقة جديدة
let fireCount = 0; // متغير يحدد عدد الطلقات التي تم إطلاقها
const maxFireCount = 15; // الحد الأقصى لعدد الطلقات






let fireInterval; // متغير لحفظ المؤقت الذي يقوم بتنفيذ الاطلاق المستمر

document.getElementById("fireButton").addEventListener("mousedown", () => {
fireInterval = setInterval(fireSword, 300); // تحديد فاصل زمني لتنفيذ الاطلاق المستمر
});

document.getElementById("fireButton").addEventListener("mouseup", () => {
clearInterval(fireInterval); // إلغاء التكرار عند رفع الإصبع عن الزر
});

var isFiring = false;

function fire() {
isFiring = !isFiring;
if (isFiring) {
  currentPlayer = 6; // تحديد اللاعب السادس كلاعب حالي عند الضغط على الزر
} 
// لا تقم بعمل شيء إذا تم ترك الزر الآن، ودع اللاعب الحالي كما هو

// تحديث صورة اللاعب وفقًا للاعب الحالي
player.style.backgroundImage = "url(player" + currentPlayer + ".gif)";
}

document.getElementById("fireButton").addEventListener("mousedown", fire); // يتم تشغيل الحدث عند الضغط على الزر
          document.getElementById("fireButton").addEventListener("mouseup", function() {
          // تحديث اللاعب إلى اللاعب الأول عند ترك الزر
          currentPlayer = 1;
          player.style.backgroundImage = "url(player" + currentPlayer + ".gif)";
          });

          document.getElementById("fireButton").addEventListener("click", fire);


          let leftButton = document.getElementById("moveLeftButton");
          let rightButton = document.getElementById("moveRightButton");
          let  fireButton = document.getElementById("fireButton");

          leftButton.addEventListener("mousedown", moveLeft);
          rightButton.addEventListener("mousedown", moveRight);
          jumpButton.addEventListener("mousedown", jump);

          leftButton.addEventListener("mouseup", stopMoving);
          rightButton.addEventListener("mouseup", stopMoving);
          jumpButton.addEventListener("mouseup", stopJumping);












function stopJumping() {
  // Stop the player from jumping when the jump button is released
  isJumping = false;
}
const maxBoxs = 15;

let canTire = true; // متغير يحدد إذا كان بإمكان اللاعب إطلاق طلقة جديدة
let tireCount = 0; // متغير يحدد عدد الطلقات التي تم إطلاقها
const maxTireCount = 15; // الحد الأقصى لعدد الطلقات

const tireBox = () => {
if (canTire && tireCount < maxTireCount) { // التحقق من إمكانية الاطلاق وعدم تجاوز الحد الأقصى لعدد الطلقات
canTire = false;
tireCount++;
const box = document.getElementById("box");
box.style.display = "block";
let boxPosition = parseInt(window.getComputedStyle(box).getPropertyValue("left"));
let boxInterval = setInterval(() => {
  boxPosition += 10;
  box.style.left = boxPosition + "px";
  if (boxPosition >= (window.innerWidth - box.offsetWidth)) {
    clearInterval(boxInterval);
    box.style.display = "none";
    box.style.left = "20px";
    canTire = true;
  }
  checkCollision();
}, 10);
setTimeout(() => {
  clearInterval(boxInterval);
  box.style.display = "none";
  box.style.left = "20px";
  canTire = true;
}, 65);
}
}

let tireInterval; // متغير لحفظ المؤقت الذي يقوم بتنفيذ الاطلاق المستمر

document.getElementById("tireButton").addEventListener("mousedown", () => {
tireInterval = setInterval(tireBox, 300); // تحديد فاصل زمني لتنفيذ الاطلاق المستمر
});

document.getElementById("tireButton").addEventListener("mouseup", () => {
clearInterval(tireInterval); // إلغاء التكرار عند رفع الإصبع عن الزر
});

var isFiring = false;

function tire() {
isFiring = !isFiring;
if (isFiring) {
  currentPlayer = 10; // تحديد اللاعب السادس كلاعب حالي عند الضغط على الزر
} 
// لا تقم بعمل شيء إذا تم ترك الزر الآن، ودع اللاعب الحالي كما هو

// تحديث صورة اللاعب وفقًا للاعب الحالي
player.style.backgroundImage = "url(player" + currentPlayer + ".gif)";
}

document.getElementById("tireButton").addEventListener("mousedown", tire); // يتم تشغيل الحدث عند الضغط على الزر
document.getElementById("tireButton").addEventListener("mouseup", function() {
// تحديث اللاعب إلى اللاعب الأول عند ترك الزر
currentPlayer = 1;
player.style.backgroundImage = "url(player" + currentPlayer + ".gif)";
});

document.getElementById("tireButton").addEventListener("click", tire);















            var platform = document.getElementById("platform");
            var platform2 = document.getElementById("platform2");
            var platform4 = document.getElementById("platform4");
            var platform5 = document.getElementById("platform5");
            var platform6 = document.getElementById("platform6");
            var platform7 = document.getElementById("platform7");
            var platform0 = document.getElementById("platform0");

          
            var enemy = document.getElementById("enemy");
            var enemy2 = document.getElementById("enemy2");
            var enemy4 = document.getElementById("enemy4");
            var enemy5 = document.getElementById("enemy5");
            var enemy6 = document.getElementById("enemy6");
            var enemy7 = document.getElementById("enemy7");





            var enemyLeft = 5;
            var enemyTop = 0;
            var enemySpeed = 0.80;
            var enemyDirection = 1;

            var enemy2Left = 5;
            var enemy2Top = 0;
            var enemy2Speed = 0.80;
            var enemy2Direction = 1;

    
            var enemy4Left = 5;
            var enemy4Top = 0;
            var enemy4Speed = 0.80;
            var enemy4Direction = 1;


            var enemy5Left = 5;
            var enemy5Top = 0;
            var enemy5Speed = 0.80;
            var enemy5Direction = 1;


            var enemy6Left = 5;
            var enemy6Top = 0;
            var enemy6Speed = 0.80;
            var enemy6Direction = 1;


            var enemy7Left = 5;
            var enemy7Top = 0;
            var enemy7Speed = 0.80;
            var enemy7Direction = 1;



            var currentIndex = 1;
            var isMovingRight = false;
            var isMovingLeft = false;
            var moveInterval = true;



            function updateEnemy() {

              var platformTop = platform.offsetTop;
              var platform2Top = platform2.offsetTop;
              var platform4Top = platform4.offsetTop;
              var platform5Top = platform5.offsetTop;
              var platform6Top = platform6.offsetTop;
              var platform7Top = platform7.offsetTop;
              var platform0Top = platform0.offsetTop;
            






              enemyLeft += enemySpeed * enemyDirection;
              enemy2Left += enemy2Speed * enemy2Direction;
              enemy4Left += enemy4Speed * enemy4Direction;
              enemy5Left += enemy5Speed * enemy5Direction;
              enemy6Left += enemy6Speed * enemy6Direction;
              enemy7Left += enemy6Speed * enemy7Direction;
            



            if (enemyLeft + enemy.offsetWidth >= platform4.offsetWidth) {
              enemyDirection = -1;
            } else if (enemyLeft <= 0) {
              enemyDirection = 1;
            }
            
            if (enemyTop + enemy.offsetHeight >= platform4Top) {
              enemyTop = platform4Top - enemy.offsetHeight;
            }
            
            enemy.style.left = enemyLeft + "px";
            enemy.style.top = enemyTop + "px";
            
            if (enemyDirection == 1) {
              enemy.style.transform = "scaleX(1)";
            } else {
              enemy.style.transform = "scaleX(-1)";
            }








            if (enemy2Left + enemy2.offsetWidth >= platform4.offsetWidth) {
              enemy2Direction = -1;
            } else if (enemy2Left <= 0) {
              enemy2Direction = 1;
            }
            
            if (enemy2Top + enemy2.offsetHeight >= platform4Top) {
              enemy2Top = platform4Top - enemy2.offsetHeight;
            }
            
            enemy2.style.left = enemy2Left + "px";
            enemy2.style.top = enemy2Top + "px";
            
            if (enemy2Direction == 1) {
              enemy2.style.transform = "scaleX(1)";
            } else {
              enemy2.style.transform = "scaleX(-1)";
            }





            if (enemy4Left + enemy4.offsetWidth >= platform4.offsetWidth) {
              enemy4Direction = -1;
            } else if (enemy4Left <= 0) {
              enemy4Direction = 1;
            }
            
            if (enemy4Top + enemy4.offsetHeight >= platform4Top) {
              enemy4Top = platform4Top - enemy4.offsetHeight;
            }
            
            enemy4.style.left = enemy4Left + "px";
            enemy4.style.top = enemy4Top + "px";
            
            if (enemy4Direction == 1) {
              enemy4.style.transform = "scaleX(1)";
            } else {
              enemy4.style.transform = "scaleX(-1)";
            }






            if (enemy5Left + enemy5.offsetWidth >= platform4.offsetWidth) {
              enemy5Direction = -1;
            } else if (enemy5Left <= 0) {
              enemy5Direction = 1;
            }
            
            if (enemy5Top + enemy5.offsetHeight >= platform4Top) {
              enemy5Top = platform4Top - enemy5.offsetHeight;
            }
            
            enemy5.style.left = enemy5Left + "px";
            enemy5.style.top = enemy5Top + "px";
            
            if (enemy5Direction == 1) {
              enemy5.style.transform = "scaleX(1)";
            } else {
              enemy5.style.transform = "scaleX(-1)";
            }






            if (enemy6Left + enemy6.offsetWidth >= platform4.offsetWidth) {
              enemy6Direction = -1;
            } else if (enemy6Left <= 0) {
              enemy6Direction = 1;
            }
            
            if (enemy6Top + enemy6.offsetHeight >= platform4Top) {
              enemy6Top = platform4Top - enemy6.offsetHeight;
            }
            
            enemy6.style.left = enemy6Left + "px";
            enemy6.style.top = enemy6Top + "px";
            
            if (enemy6Direction == 1) {
              enemy6.style.transform = "scaleX(1)";
            } else {
              enemy6.style.transform = "scaleX(-1)";
            }



            if (enemy7Left + enemy7.offsetWidth >= platform4.offsetWidth) {
              enemy7Direction = -1;
            } else if (enemy7Left <= 0) {
              enemy7Direction = 1;
            }
            
            if (enemy7Top + enemy7.offsetHeight >= platform4Top) {
              enemy7Top = platform4Top - enemy7.offsetHeight;
            }
            
            enemy7.style.left = enemy7Left + "px";
            enemy7.style.top = enemy7Top + "px";
            
            if (enemy7Direction == 1) {
              enemy7.style.transform = "scaleX(1)";
            } else {
              enemy7.style.transform = "scaleX(-1)";
            }






            }
            setInterval(updateEnemy, 10);















         </script>
    </body>
 </html>





